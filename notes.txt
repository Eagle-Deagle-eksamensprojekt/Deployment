Når vi går fra local deployment til docker miljø:

Husk at loki endpoint i Nlog.confi skal rettes til "loki:3100" fra "localhost:3100"

Husk at mongodb skal rettes fra port "xx19 på localhost" til "xx17 på docker"

Docker compose bash commands:
docker-compose -f commons-docker-compose.yml up -d
eller
docker-compose -f services-docker-compose.yml up -d

Genindlæs NginX
docker exec nginx nginx -s reload



Dette skal kopieres ind i en ".env" fil (den skal ikke hedde andet end .env) denne fil bliver ignoreret af gitignore, og bliver derfor kun local
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=1234
RABBITMQ_DEFAULT_USER=guest
RABBITMQ_DEFAULT_PASS=guest
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
VAULT_DEV_ROOT_TOKEN_ID='00000000-0000-0000-0000-000000000000'

UserServiceEndpoint=http://userService:8080/user
VaultURL=http://vault:8201
MongoConnectionString=mongodb://admin:1234@mongo:27017/


LOKI_URL=http://loki:3100


RABBITMQ_HOST=rabbitmq
TodaysAuctionsRabbitQueue=TodaysAuctions

ItemServiceEndpoint=http://itemService:8080/item
AuctionServiceEndpoint=http://auctionService:8080/auction 








Nedenfor er de variabler der skal sættes, disse er blevet sat manuelt i de enkelte services før
Auth Service
export issuer=http://localhost
export secret=thisIsASecureSecretKeyThatIs32Chars!
export VaultURL=http://localhost:8201
export UserServiceEndpoint=http://localhost:5058/api/user


Item service
export ASPNETCORE_ENVIRONMENT=Development
export MongoConnectionString=mongodb://admin:1234@localhost:27019/
export DatabaseName=ItemDB
export CollectionName=items
export Loki=http://localhost:3100